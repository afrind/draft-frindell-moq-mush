<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Media Using Server-Push in HTTP (MUSH)</title>
<meta content="afrind" name="author">
<meta content="
       This draft defines how to use HTTP/3 to publish and receive Tracks as defined in
MoQ Transport using  .  The draft does not use WebTransport, and as such
only servers can publish. Tough Cookies. 
    " name="description">
<meta content="xml2rfc 3.20.1" name="generator">
<meta content="next generation" name="keyword">
<meta content="unicorn" name="keyword">
<meta content="april fools" name="keyword">
<meta content="draft-frindell-moq-mush-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.20.1
    Python 3.11.8
    ConfigArgParse 1.7
    google-i18n-address 3.1.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.3
    platformdirs 4.2.0
    pycountry 22.3.5
    PyYAML 6.0.1
    requests 2.31.0
    setuptools 68.2.2
    six 1.16.0
    wcwidth 0.2.13
-->
<link href="draft-frindell-moq-mush.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 1;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
}
dl.olPercent {
  --indent: 5ch;
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl.dlNewline > dt {
  float: none;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
dl.olPercent > dt {
  min-width: calc(var(--indent) - 2ch);
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:first-child, .break:first-child + *) {
  margin-top: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:last-child) {
  margin-bottom: 0;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0;
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
}
#identifiers dt {
  width: var(--identifier-width);
  min-width: var(--identifier-width);
  clear: left;
  float: left;
  text-align: right;
  margin-right: 1ch;
}
#identifiers dd {
  margin: 0;
  margin-left: calc(1em + var(--identifier-width)) !important;
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 2px 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 10ch;
  margin-right: 1.5ch;
}
.references dt:target::before {
  content: "⇒";
  width: 15px;
  margin: 0 10px 0 -25px;
}
.references dd {
  margin-left: 12ch !important;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
  .toplink {
    display: none;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">mush</td>
<td class="right">April 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">afrind</td>
<td class="center">Expires 3 October 2024</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Media Over QUIC</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-frindell-moq-mush-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2024-04-01" class="published">1 April 2024</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2024-10-03">3 October 2024</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">afrind</div>
<div class="org">Meta</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Media Using Server-Push in HTTP (MUSH)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This draft defines how to use HTTP/3 to publish and receive Tracks as defined in
MoQ Transport using <span>[<a href="#HTTP3" class="cite xref">HTTP3</a>]</span>.  The draft does not use WebTransport, and as such
only servers can publish. Tough Cookies.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        The latest revision of this draft can be found at <span><a href="https://afrind.github.io/draft-frindell-moq-mush/draft-frindell-moq-mush.html">https://afrind.github.io/draft-frindell-moq-mush/draft-frindell-moq-mush.html</a></span>.
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-frindell-moq-mush/">https://datatracker.ietf.org/doc/draft-frindell-moq-mush/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        Media Over QUIC Working Group mailing list (<span><a href="mailto:moq@ietf.org">mailto:moq@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/moq/">https://mailarchive.ietf.org/arch/browse/moq/</a></span>.
        Subscribe at <span><a href="https://www.ietf.org/mailman/listinfo/moq/">https://www.ietf.org/mailman/listinfo/moq/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/afrind/draft-frindell-moq-mush">https://github.com/afrind/draft-frindell-moq-mush</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 3 October 2024.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-conventions-and-definitions" class="internal xref">Conventions and Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-pronunciation" class="internal xref">Pronunciation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-requesting-tracks" class="internal xref">Requesting Tracks</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-encoding-track-names-in-url" class="internal xref">Encoding Track Names in URLs</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-request-headers" class="internal xref">Request Headers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="auto internal xref">4.2.1</a>.  <a href="#name-priority" class="internal xref">Priority</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="auto internal xref">4.2.2</a>.  <a href="#name-other-priority" class="internal xref">Other-Priority</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="auto internal xref">4.2.3</a>.  <a href="#name-authentication-headers" class="internal xref">Authentication Headers</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-track-info-request" class="internal xref">Track Info Request</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-fetch-request" class="internal xref">Fetch Request</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a href="#section-4.4.1" class="auto internal xref">4.4.1</a>.  <a href="#name-object-range" class="internal xref">Object-Range</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="auto internal xref">4.5</a>.  <a href="#name-subscribe-request" class="internal xref">Subscribe Request</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5.2.1">
                    <p id="section-toc.1-1.4.2.5.2.1.1"><a href="#section-4.5.1" class="auto internal xref">4.5.1</a>.  <a href="#name-live-start" class="internal xref">Live-Start</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="auto internal xref">4.6</a>.  <a href="#name-dont-subscribe-request" class="internal xref">Don’t Subscribe Request</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-response" class="internal xref">Response</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-response-headers" class="internal xref">Response Headers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a href="#section-5.1.1" class="auto internal xref">5.1.1</a>.  <a href="#name-object-range-2" class="internal xref">Object-Range</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a href="#section-5.1.2" class="auto internal xref">5.1.2</a>.  <a href="#name-live-head" class="internal xref">Live-Head</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.3">
                    <p id="section-toc.1-1.5.2.1.2.3.1"><a href="#section-5.1.3" class="auto internal xref">5.1.3</a>.  <a href="#name-dead-head" class="internal xref">Dead-Head</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.4">
                    <p id="section-toc.1-1.5.2.1.2.4.1"><a href="#section-5.1.4" class="auto internal xref">5.1.4</a>.  <a href="#name-delivery-mode" class="internal xref">Delivery-Mode</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.5">
                    <p id="section-toc.1-1.5.2.1.2.5.1"><a href="#section-5.1.5" class="auto internal xref">5.1.5</a>.  <a href="#name-expires" class="internal xref">Expires</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-object-delivery" class="internal xref">Object Delivery</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-object-response-headers" class="internal xref">Object Response Headers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a href="#section-5.3.1" class="auto internal xref">5.3.1</a>.  <a href="#name-priority-2" class="internal xref">Priority</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a href="#section-5.3.2" class="auto internal xref">5.3.2</a>.  <a href="#name-cryority" class="internal xref">Cryority</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.3">
                    <p id="section-toc.1-1.5.2.3.2.3.1"><a href="#section-5.3.3" class="auto internal xref">5.3.3</a>.  <a href="#name-delivery-mode-2" class="internal xref">Delivery-Mode</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.4">
                    <p id="section-toc.1-1.5.2.3.2.4.1"><a href="#section-5.3.4" class="auto internal xref">5.3.4</a>.  <a href="#name-group-id" class="internal xref">Group-ID</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="auto internal xref">5.4</a>.  <a href="#name-datagram-format" class="internal xref">Datagram Format</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5">
                <p id="section-toc.1-1.5.2.5.1"><a href="#section-5.5" class="auto internal xref">5.5</a>.  <a href="#name-response-capsules" class="internal xref">Response Capsules</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5.2.1">
                    <p id="section-toc.1-1.5.2.5.2.1.1"><a href="#section-5.5.1" class="auto internal xref">5.5.1</a>.  <a href="#name-group-end" class="internal xref">Group End</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5.2.2">
                    <p id="section-toc.1-1.5.2.5.2.2.1"><a href="#section-5.5.2" class="auto internal xref">5.5.2</a>.  <a href="#name-pod" class="internal xref">Pod</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5.2.3">
                    <p id="section-toc.1-1.5.2.5.2.3.1"><a href="#section-5.5.3" class="auto internal xref">5.5.3</a>.  <a href="#name-object-dropped" class="internal xref">Object Dropped</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5.2.4">
                    <p id="section-toc.1-1.5.2.5.2.4.1"><a href="#section-5.5.4" class="auto internal xref">5.5.4</a>.  <a href="#name-mic-dropped" class="internal xref">Mic Dropped</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5.2.5">
                    <p id="section-toc.1-1.5.2.5.2.5.1"><a href="#section-5.5.5" class="auto internal xref">5.5.5</a>.  <a href="#name-just-dropped" class="internal xref">Just Dropped</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5.2.6">
                    <p id="section-toc.1-1.5.2.5.2.6.1"><a href="#section-5.5.6" class="auto internal xref">5.5.6</a>.  <a href="#name-reason-phrase" class="internal xref">Reason Phrase</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5.2.7">
                    <p id="section-toc.1-1.5.2.5.2.7.1"><a href="#section-5.5.7" class="auto internal xref">5.5.7</a>.  <a href="#name-done" class="internal xref">Done</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6">
                <p id="section-toc.1-1.5.2.6.1"><a href="#section-5.6" class="auto internal xref">5.6</a>.  <a href="#name-request-capsules" class="internal xref">Request Capsules</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6.2.1">
                    <p id="section-toc.1-1.5.2.6.2.1.1"><a href="#section-5.6.1" class="auto internal xref">5.6.1</a>.  <a href="#name-unsubscribe" class="internal xref">Unsubscribe</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6.2.2">
                    <p id="section-toc.1-1.5.2.6.2.2.1"><a href="#section-5.6.2" class="auto internal xref">5.6.2</a>.  <a href="#name-how-do-i-unsubscribe" class="internal xref">How Do I Unsubscribe</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.7">
                <p id="section-toc.1-1.5.2.7.1"><a href="#section-5.7" class="auto internal xref">5.7</a>.  <a href="#name-trailers" class="internal xref">Trailers</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-address" class="internal xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">HTTP/3 can totally send media.  This is one way to do it folks.<a href="#section-1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conventions-and-definitions">
<section id="section-2">
      <h2 id="name-conventions-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-and-definitions" class="section-name selfRef">Conventions and Definitions</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="pronunciation">
<section id="section-3">
      <h2 id="name-pronunciation">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-pronunciation" class="section-name selfRef">Pronunciation</a>
      </h2>
<p id="section-3-1">MUSH rhymes with PUSH.<a href="#section-3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="requesting-tracks">
<section id="section-4">
      <h2 id="name-requesting-tracks">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-requesting-tracks" class="section-name selfRef">Requesting Tracks</a>
      </h2>
<p id="section-4-1">To get information about a track, a client sends a Track Info request.  To
retrieve tracks, a client sends a Fetch or a Subscribe request, or schedules a
meeting with the MoQ Chairs.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="encoding-track-names-in-urls">
<section id="section-4.1">
        <h3 id="name-encoding-track-names-in-url">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-encoding-track-names-in-url" class="section-name selfRef">Encoding Track Names in URLs</a>
        </h3>
<p id="section-4.1-1">A Full Track Name consists of two components, a track namespace and a track
name. These are encoded in URLs with the track_namesapce and track_name query
parameters.  The :path and :authority pseudo headers are set via the Connection
URL.  The parameters are URL encoded.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="request-headers">
<section id="section-4.2">
        <h3 id="name-request-headers">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-request-headers" class="section-name selfRef">Request Headers</a>
        </h3>
<p id="section-4.2-1">The following headers are valid in requests.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<div id="priority">
<section id="section-4.2.1">
          <h4 id="name-priority">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-priority" class="section-name selfRef">Priority</a>
          </h4>
<p id="section-4.2.1-1">This header indicates the priority of this track relative to other tracks and
HTTP requests.  See <span>[<a href="#Priorities" class="cite xref">Priorities</a>]</span>.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="other-priority">
<section id="section-4.2.2">
          <h4 id="name-other-priority">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-other-priority" class="section-name selfRef">Other-Priority</a>
          </h4>
<p id="section-4.2.2-1">This header is the other priority header that the working group is still
discussing, but lacks consensus. TODO. You can send both this and the Priority
header, or neither, and it means something different to every implementation.
Good luck.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authentication-headers">
<section id="section-4.2.3">
          <h4 id="name-authentication-headers">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-authentication-headers" class="section-name selfRef">Authentication Headers</a>
          </h4>
<p id="section-4.2.3-1">Authentication information is optionally passed by subscribers using the headers
of their choice.<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="track-info-request">
<section id="section-4.3">
        <h3 id="name-track-info-request">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-track-info-request" class="section-name selfRef">Track Info Request</a>
        </h3>
<p id="section-4.3-1">Track Info is represented as an HTTP HEAD for the track.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">No additional headers are allowed.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="fetch-request">
<section id="section-4.4">
        <h3 id="name-fetch-request">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-fetch-request" class="section-name selfRef">Fetch Request</a>
        </h3>
<p id="section-4.4-1">Fetch is represented as an HTTP GET for the track.  To fetch a single object,
add the group_id and object_id query parameters to the URL.  To fetch a range of
objects in a Track, omit these query parameters. The following additional
headers are allowed.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<div id="object-range">
<section id="section-4.4.1">
          <h4 id="name-object-range">
<a href="#section-4.4.1" class="section-number selfRef">4.4.1. </a><a href="#name-object-range" class="section-name selfRef">Object-Range</a>
          </h4>
<p id="section-4.4.1-1">The Object-Range header is a sf-dictionary with four integer fields:
start_group, start_object, end_group and end_object.  The header defines the
range of objects to be returned.  If the Object-Range is omitted, the entire
track is requested up to the end or the live-head at the time the request was
received.  Negative values are supported, and the publisher should interpret
this as a request to go back in time and turn the camera on sooner.<a href="#section-4.4.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="subscribe-request">
<section id="section-4.5">
        <h3 id="name-subscribe-request">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-subscribe-request" class="section-name selfRef">Subscribe Request</a>
        </h3>
<p id="section-4.5-1">Subscribe is represented as an HTTP POST to the track URL.  A client can only
have one active Subscribe request for a track at the same time.  The following
additional headers are allowed.<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<div id="live-start">
<section id="section-4.5.1">
          <h4 id="name-live-start">
<a href="#section-4.5.1" class="section-number selfRef">4.5.1. </a><a href="#name-live-start" class="section-name selfRef">Live-Start</a>
          </h4>
<p id="section-4.5.1-1">Live-Start is an enumeration with one of the following values:<a href="#section-4.5.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.5.1-2">
            <dt id="section-4.5.1-2.1">Next Object:</dt>
            <dd style="margin-left: 1.5em" id="section-4.5.1-2.2">
              <p id="section-4.5.1-2.2.1">The subscription begins with the next published object in the largest group
seen by the publisher or relay, or the next object if none have been published
yet.<a href="#section-4.5.1-2.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.5.1-2.3">Next Group:</dt>
            <dd style="margin-left: 1.5em" id="section-4.5.1-2.4">
              <p id="section-4.5.1-2.4.1">The subscription begins with the first object published in the next group with
a group ID higher than largest, or the next group if none have been published
yet.<a href="#section-4.5.1-2.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.5.1-2.5">Next Next Next Prev Prev Next Group:</dt>
            <dd style="margin-left: 1.5em" id="section-4.5.1-2.6">
              <p id="section-4.5.1-2.6.1">The subscription is supposed to start after the next commercial break, except
the receiver went too far forward, then too far backward before dialing it in.<a href="#section-4.5.1-2.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="dont-subscribe-request">
<section id="section-4.6">
        <h3 id="name-dont-subscribe-request">
<a href="#section-4.6" class="section-number selfRef">4.6. </a><a href="#name-dont-subscribe-request" class="section-name selfRef">Don’t Subscribe Request</a>
        </h3>
<p id="section-4.6-1">The subscriber sends this message when they don’t want to receive any track
data, but feels like they need to say something to keep the connection from
getting awkward.  It is represented as an OPTIONS request.<a href="#section-4.6-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="response">
<section id="section-5">
      <h2 id="name-response">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-response" class="section-name selfRef">Response</a>
      </h2>
<p id="section-5-1">If the Track Info, Fetch or Subscribe request is successful, the status code is
200.  If the response is an error, the publisher will send an appropriate 400 or
500 status code.  If the publisher is feeling ornery, it can send one or more
100-continue responses before sending a real response code, because that is
totally a thing you can do in HTTP.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="response-headers">
<section id="section-5.1">
        <h3 id="name-response-headers">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-response-headers" class="section-name selfRef">Response Headers</a>
        </h3>
<div id="object-range-1">
<section id="section-5.1.1">
          <h4 id="name-object-range-2">
<a href="#section-5.1.1" class="section-number selfRef">5.1.1. </a><a href="#name-object-range-2" class="section-name selfRef">Object-Range</a>
          </h4>
<p id="section-5.1.1-1">Fetch responses for a range contain an Object-Range header indicating the start
and end locations for the range.  This will be a subset of the requested range
if the requested end is beyond the end of the track or current live head.<a href="#section-5.1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="live-head">
<section id="section-5.1.2">
          <h4 id="name-live-head">
<a href="#section-5.1.2" class="section-number selfRef">5.1.2. </a><a href="#name-live-head" class="section-name selfRef">Live-Head</a>
          </h4>
<p id="section-5.1.2-1">If the track is currently live and the Live Head is known, the Fetch or
Subscribe response will contain the largest group and largest object within that
group.  This header is an sf-dictionary with integer fields largest-group and
largest-object.<a href="#section-5.1.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="dead-head">
<section id="section-5.1.3">
          <h4 id="name-dead-head">
<a href="#section-5.1.3" class="section-number selfRef">5.1.3. </a><a href="#name-dead-head" class="section-name selfRef">Dead-Head</a>
          </h4>
<p id="section-5.1.3-1">If the track is not currently live, the Fetch or Subscribe response contains
this header including a lyric from a Grateful Dead song.<a href="#section-5.1.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="delivery-mode">
<section id="section-5.1.4">
          <h4 id="name-delivery-mode">
<a href="#section-5.1.4" class="section-number selfRef">5.1.4. </a><a href="#name-delivery-mode" class="section-name selfRef">Delivery-Mode</a>
          </h4>
<p id="section-5.1.4-1">This header is an enumeration of the following values:<a href="#section-5.1.4-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.1.4-2">
            <dt id="section-5.1.4-2.1">Track:</dt>
            <dd style="margin-left: 1.5em" id="section-5.1.4-2.2">
              <p id="section-5.1.4-2.2.1">All objects will be delivered in a single Push stream.<a href="#section-5.1.4-2.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.1.4-2.3">Group:</dt>
            <dd style="margin-left: 1.5em" id="section-5.1.4-2.4">
              <p id="section-5.1.4-2.4.1">Objects in the same group will be delivered on a single Push stream.<a href="#section-5.1.4-2.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.1.4-2.5">Object:</dt>
            <dd style="margin-left: 1.5em" id="section-5.1.4-2.6">
              <p id="section-5.1.4-2.6.1">Each object will be delivered in its own Push stream<a href="#section-5.1.4-2.6.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.1.4-2.7">Byte:</dt>
            <dd style="margin-left: 1.5em" id="section-5.1.4-2.8">
              <p id="section-5.1.4-2.8.1">Each byte of each object will be delivered in its own Push stream<a href="#section-5.1.4-2.8.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.1.4-2.9">Datagram:</dt>
            <dd style="margin-left: 1.5em" id="section-5.1.4-2.10">
              <p id="section-5.1.4-2.10.1">Each object will be delivered as an HTTP datagram.<a href="#section-5.1.4-2.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="expires">
<section id="section-5.1.5">
          <h4 id="name-expires">
<a href="#section-5.1.5" class="section-number selfRef">5.1.5. </a><a href="#name-expires" class="section-name selfRef">Expires</a>
          </h4>
<p id="section-5.1.5-1">This optional header specifies a time in seconds after which the publisher will
end a Subscribe request.  Subscribers <span class="bcp14">SHOULD</span> resubscribe before their
subscription expires if they wish to continue receiving the track.  This header
<span class="bcp14">MUST NOT</span> be present in a response to a Track Info or Fetch request.<a href="#section-5.1.5-1" class="pilcrow">¶</a></p>
<p id="section-5.1.5-2">Note there’s already an Expires HTTP header with a different format and meaning,
but we decided to redefine it here anyway, mostly to troll the HTTP chairs.<a href="#section-5.1.5-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="object-delivery">
<section id="section-5.2">
        <h3 id="name-object-delivery">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-object-delivery" class="section-name selfRef">Object Delivery</a>
        </h3>
<p id="section-5.2-1">Objects in the response to Fetch and Subscribe are delivered via HTTP Server
Push or HTTP Datagrams according to the Delivery-Mode of the track.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">That’s right, we said SERVER PUSH.  You standardized it and we’re using it.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="object-response-headers">
<section id="section-5.3">
        <h3 id="name-object-response-headers">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-object-response-headers" class="section-name selfRef">Object Response Headers</a>
        </h3>
<p id="section-5.3-1">The HTTP Response on the Push stream <span class="bcp14">MUST</span> have :status = 200, and can carry the
following headers:<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<div id="priority-1">
<section id="section-5.3.1">
          <h4 id="name-priority-2">
<a href="#section-5.3.1" class="section-number selfRef">5.3.1. </a><a href="#name-priority-2" class="section-name selfRef">Priority</a>
          </h4>
<p id="section-5.3.1-1">Sets the priority of the push stream per <span>[<a href="#Priorities" class="cite xref">Priorities</a>]</span>.<a href="#section-5.3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="cryority">
<section id="section-5.3.2">
          <h4 id="name-cryority">
<a href="#section-5.3.2" class="section-number selfRef">5.3.2. </a><a href="#name-cryority" class="section-name selfRef">Cryority</a>
          </h4>
<p id="section-5.3.2-1">This header is sent by the Chairs if someone brings up a priority discussion in
the middle of discussing something else, derailing working group progress for
2-5 weeks.<a href="#section-5.3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="delivery-mode-1">
<section id="section-5.3.3">
          <h4 id="name-delivery-mode-2">
<a href="#section-5.3.3" class="section-number selfRef">5.3.3. </a><a href="#name-delivery-mode-2" class="section-name selfRef">Delivery-Mode</a>
          </h4>
<p id="section-5.3.3-1">The delivery mode for this track.  This <span class="bcp14">MUST</span> match the Delivery-Mode specified
in the Fetch or Subscribe response.  This mode determines the format of the
remainder of the stream.<a href="#section-5.3.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3.3-2">When Delivery-Mode = Track, the remainder of the stream is zero or more of the
following fields<a href="#section-5.3.3-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.3.3-3">
<pre>
{
  groupID (i)
  objectID (i)
  length(i)
  payload(..)
}
</pre><a href="#section-5.3.3-3" class="pilcrow">¶</a>
</div>
<p id="section-5.3.3-4">When Delivery-Mode = Group, the remainder of the stream is zero or more of the
following fields<a href="#section-5.3.3-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.3.3-5">
<pre>
{
  objectID (i)
  length(i)
  payload(..)
}
</pre><a href="#section-5.3.3-5" class="pilcrow">¶</a>
</div>
<p id="section-5.3.3-6">When Delivery-Mode = Object, the remainder of the stream is<a href="#section-5.3.3-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.3.3-7">
<pre>
{
  objectID (i)
  payload(..)
}
</pre><a href="#section-5.3.3-7" class="pilcrow">¶</a>
</div>
<p id="section-5.3.3-8">When Delivery-Mode = Byte, the remainder of the stream is<a href="#section-5.3.3-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.3.3-9">
<pre>
{
  objectID (i)
  offset (i)
  payload(..)
}
</pre><a href="#section-5.3.3-9" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="group-id">
<section id="section-5.3.4">
          <h4 id="name-group-id">
<a href="#section-5.3.4" class="section-number selfRef">5.3.4. </a><a href="#name-group-id" class="section-name selfRef">Group-ID</a>
          </h4>
<p id="section-5.3.4-1">The Group-ID for all objects in the stream.  This <span class="bcp14">MUST</span> be present when Delivery-Mode is Group or Object.  This <span class="bcp14">MUST NOT</span> be present when Delivery-Mode is Track.<a href="#section-5.3.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="datagram-format">
<section id="section-5.4">
        <h3 id="name-datagram-format">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-datagram-format" class="section-name selfRef">Datagram Format</a>
        </h3>
<p id="section-5.4-1">When Delivery-Mode is Datagram, the format of the Datagram is<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.4-2">
<pre>
{
  groupID (i)
  objectID (i)
  priority (i)
  payload(..)
}
</pre><a href="#section-5.4-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="response-capsules">
<section id="section-5.5">
        <h3 id="name-response-capsules">
<a href="#section-5.5" class="section-number selfRef">5.5. </a><a href="#name-response-capsules" class="section-name selfRef">Response Capsules</a>
        </h3>
<p id="section-5.5-1">The format of the response payload on the request stream for Fetch and Subscribe
requests is the Capsule Protocol (interleaved with PUSH_PROMSIE frames).  The
following Capsules are defined for the publisher.<a href="#section-5.5-1" class="pilcrow">¶</a></p>
<div id="group-end">
<section id="section-5.5.1">
          <h4 id="name-group-end">
<a href="#section-5.5.1" class="section-number selfRef">5.5.1. </a><a href="#name-group-end" class="section-name selfRef">Group End</a>
          </h4>
<p id="section-5.5.1-1">The publisher sends Group End after it sends the last object in a group.  It has
type 0xF01 and the following format<a href="#section-5.5.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.5.1-2">
<pre>
{
  groupID (i)
  largestObjectID (i)
}
</pre><a href="#section-5.5.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="pod">
<section id="section-5.5.2">
          <h4 id="name-pod">
<a href="#section-5.5.2" class="section-number selfRef">5.5.2. </a><a href="#name-pod" class="section-name selfRef">Pod</a>
          </h4>
<p id="section-5.5.2-1">The publisher sends a Pod capsule to add an extra layer of indirection, because
frames and capsules just weren’t enough.  It has type 0xF02, and the contents
are multiplexed metadata streams formatted using <span>[<a href="#QuicOnStreams" class="cite xref">QuicOnStreams</a>]</span>.<a href="#section-5.5.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="object-dropped">
<section id="section-5.5.3">
          <h4 id="name-object-dropped">
<a href="#section-5.5.3" class="section-number selfRef">5.5.3. </a><a href="#name-object-dropped" class="section-name selfRef">Object Dropped</a>
          </h4>
<p id="section-5.5.3-1">The publisher sends Object Dropped when it resets a Data stream carrying an
Object, or skips sending an object due to buffering and/or expiry.  It has type
0xF03 and the following format<a href="#section-5.5.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.5.3-2">
<pre>
{
  groupID (i)
  objectID (i)
}
</pre><a href="#section-5.5.3-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="mic-dropped">
<section id="section-5.5.4">
          <h4 id="name-mic-dropped">
<a href="#section-5.5.4" class="section-number selfRef">5.5.4. </a><a href="#name-mic-dropped" class="section-name selfRef">Mic Dropped</a>
          </h4>
<p id="section-5.5.4-1">The publisher sent something so amazing nothing further needs to be sent.  The
connection is closed immediately.  It has type 0xF03 and no fields.<a href="#section-5.5.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="just-dropped">
<section id="section-5.5.5">
          <h4 id="name-just-dropped">
<a href="#section-5.5.5" class="section-number selfRef">5.5.5. </a><a href="#name-just-dropped" class="section-name selfRef">Just Dropped</a>
          </h4>
<p id="section-5.5.5-1">The publisher sends Just Dropped to inform the subscriber there’s something new
and exciting they should subscribe to.  It has type 0xF04 and the following
format<a href="#section-5.5.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.5.5-2">
<pre>
{
  connectURL (s)
  trackNamespace (s)
  trackName (s)
  hotness (i)
}
</pre><a href="#section-5.5.5-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="reason-phrase">
<section id="section-5.5.6">
          <h4 id="name-reason-phrase">
<a href="#section-5.5.6" class="section-number selfRef">5.5.6. </a><a href="#name-reason-phrase" class="section-name selfRef">Reason Phrase</a>
          </h4>
<p id="section-5.5.6-1">The publisher sends a Reason Phrase capsule to give a really clear explanation
of why something just happened.  Nothing good ever comes from it, but that
didn’t stop us.  It has a 2048 octet minimum size. It has type 0xF05 and the
following format<a href="#section-5.5.6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.5.6-2">
<pre>
{
  reallyGoodReasonPhrase(s)
}
</pre><a href="#section-5.5.6-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="done">
<section id="section-5.5.7">
          <h4 id="name-done">
<a href="#section-5.5.7" class="section-number selfRef">5.5.7. </a><a href="#name-done" class="section-name selfRef">Done</a>
          </h4>
<p id="section-5.5.7-1">The publisher sends Done when it is done sending Data for this Track, followed
by gracefully closing the stream.  It has type 0xF06 and the following format<a href="#section-5.5.7-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.5.7-2">
<pre>
{
  status (i)
  reasonPhrase (s)
  contentExits (f)
  [finalGroupSent (i)]
  [finalObjectSent (i)]
}
</pre><a href="#section-5.5.7-2" class="pilcrow">¶</a>
</div>
<p id="section-5.5.7-3">The following status codes are defined:<a href="#section-5.5.7-3" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
            <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
              <tr>
                <th class="text-right" rowspan="1" colspan="1">Code</th>
                <th class="text-left" rowspan="1" colspan="1">Reason</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-right" rowspan="1" colspan="1">0x0</td>
                <td class="text-left" rowspan="1" colspan="1">Unsubscribed</td>
              </tr>
              <tr>
                <td class="text-right" rowspan="1" colspan="1">0x1</td>
                <td class="text-left" rowspan="1" colspan="1">Internal Error</td>
              </tr>
              <tr>
                <td class="text-right" rowspan="1" colspan="1">0x2</td>
                <td class="text-left" rowspan="1" colspan="1">Unauthorized</td>
              </tr>
              <tr>
                <td class="text-right" rowspan="1" colspan="1">0x3</td>
                <td class="text-left" rowspan="1" colspan="1">Track Ended</td>
              </tr>
              <tr>
                <td class="text-right" rowspan="1" colspan="1">0x4</td>
                <td class="text-left" rowspan="1" colspan="1">Subscription Ended</td>
              </tr>
              <tr>
                <td class="text-right" rowspan="1" colspan="1">0x5</td>
                <td class="text-left" rowspan="1" colspan="1">Going Away</td>
              </tr>
              <tr>
                <td class="text-right" rowspan="1" colspan="1">0x6</td>
                <td class="text-left" rowspan="1" colspan="1">Expired</td>
              </tr>
            </tbody>
          </table>
</section>
</div>
</section>
</div>
<div id="request-capsules">
<section id="section-5.6">
        <h3 id="name-request-capsules">
<a href="#section-5.6" class="section-number selfRef">5.6. </a><a href="#name-request-capsules" class="section-name selfRef">Request Capsules</a>
        </h3>
<p id="section-5.6-1">The following capsules are defined for the receiver.<a href="#section-5.6-1" class="pilcrow">¶</a></p>
<div id="unsubscribe">
<section id="section-5.6.1">
          <h4 id="name-unsubscribe">
<a href="#section-5.6.1" class="section-number selfRef">5.6.1. </a><a href="#name-unsubscribe" class="section-name selfRef">Unsubscribe</a>
          </h4>
<p id="section-5.6.1-1">The receiver sends Unsubscribe when it wants the publisher to stop sending data
for this request after a certain group.  It has type 0xF07 and the following
format<a href="#section-5.6.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.6.1-2">
<pre>
{
  endGroupID (i)
}
</pre><a href="#section-5.6.1-2" class="pilcrow">¶</a>
</div>
<p id="section-5.6.1-3">The publisher will stop publishing objects once it has sent the Group End for
the group with endGroupID.  It will then send a Done capsule with
status=Unsubscribed.<a href="#section-5.6.1-3" class="pilcrow">¶</a></p>
<p id="section-5.6.1-4">To unsubscribe immediately, rather than after a specific group, the subscriber
sends a STOP_SENDING frame on the request stream.<a href="#section-5.6.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="how-do-i-unsubscribe">
<section id="section-5.6.2">
          <h4 id="name-how-do-i-unsubscribe">
<a href="#section-5.6.2" class="section-number selfRef">5.6.2. </a><a href="#name-how-do-i-unsubscribe" class="section-name selfRef">How Do I Unsubscribe</a>
          </h4>
<p id="section-5.6.2-1">The receiver sends a How Do I Unsubscribe capsule if they didn’t read this
specification, which explained not one, but two different ways to unsubscribe
already.  The publisher ignores this capsule and continues publishing.  It has
type 0xF08 and no fields.<a href="#section-5.6.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="trailers">
<section id="section-5.7">
        <h3 id="name-trailers">
<a href="#section-5.7" class="section-number selfRef">5.7. </a><a href="#name-trailers" class="section-name selfRef">Trailers</a>
        </h3>
<p id="section-5.7-1">Clients <span class="bcp14">MUST</span> support trailers in HTTP responses, but relays WONT.  If a
publisher tries sending a trailer section it will probably crash the relay or
corrupt the cache.<a href="#section-5.7-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">This protocol probably has a DoS vector in its control messages, because it
seems like we keep forgetting how to prevent ourselves from getting DoS'd in
control messages.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-7-1">This document has no IANA actions.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-normative-references">
<section id="section-8">
      <h2 id="name-normative-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="HTTP3">[HTTP3]</dt>
      <dd>
<span class="refAuthor">Bishop, M., Ed.</span>, <span class="refTitle">"HTTP/3"</span>, <span class="seriesInfo">RFC 9114</span>, <span class="seriesInfo">DOI 10.17487/RFC9114</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9114">https://www.rfc-editor.org/rfc/rfc9114</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Priorities">[Priorities]</dt>
      <dd>
<span class="refAuthor">Oku, K.</span> and <span class="refAuthor">L. Pardue</span>, <span class="refTitle">"Extensible Prioritization Scheme for HTTP"</span>, <span class="seriesInfo">RFC 9218</span>, <span class="seriesInfo">DOI 10.17487/RFC9218</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9218">https://www.rfc-editor.org/rfc/rfc9218</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QuicOnStreams">[QuicOnStreams]</dt>
      <dd>
<span class="refAuthor">Oku, K.</span> and <span class="refAuthor">L. Pardue</span>, <span class="refTitle">"QUIC on Streams"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-kazuho-quic-quic-on-streams-00</span>, <time datetime="2024-02-16" class="refDate">16 February 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-kazuho-quic-quic-on-streams-00">https://datatracker.ietf.org/doc/html/draft-kazuho-quic-quic-on-streams-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
    <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">Lirpa Sloof assisted in the writing of this specification.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">afrind</span></div>
<div dir="auto" class="left"><span class="org">Meta</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:afrind@meta.com" class="email">afrind@meta.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
